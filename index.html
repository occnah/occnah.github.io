<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Ossian Stange</title>

  <link rel="stylesheet" href="styles.css">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;800&display=swap" rel="stylesheet">
</head>
<body>

  <!-- Fullscreen HERO with Vanta background -->
  <header id="hero" class="hero">
    <div id="vanta-bg" class="vanta"></div>

    <div class="hero__content" role="banner" aria-label="Intro">
      <h1 class="hero__title">Hi, I’m Ossian</h1>
      <p class="hero__subtitle">Creative Developer & Designer</p>
    </div>

    <button class="scroll-cue" id="scrollCue" aria-label="Scroll to content">
      <span>Scroll</span>
      <svg width="18" height="18" viewBox="0 0 24 24" aria-hidden="true">
        <path d="M12 16l-6-6h12l-6 6z"></path>
      </svg>
    </button>
  </header>

  <!-- ROLES SCROLL SECTION -->
  <section id="roles" class="roles">
    <div class="roles__inner">
      <div class="roles__left">
        <h2 class="roles__fixed">I’m a</h2>
      </div>

      <div class="roles__right">
        <!-- All phrases are stacked; we animate opacity/position on scroll -->
        <div class="role"><span class="role__text">AI Engineer</span></div>
        <div class="role"><span class="role__text">DevOps Specialist</span></div>
        <div class="role"><span class="role__text">Indie Game Dev</span></div>
      </div>
    </div>
  </section>

  <!-- STICKY CASE STUDY: THS -->
  <section id="case-ths" class="case">
    <div class="case__inner">
      <!-- Left: scrolling copy -->
      <div class="case__left">
        <div class="case__panel">
          <p class="case__text">As DevOps Lead at THS Business...</p>
        </div>

        <div class="case__panel">
          <p class="case__text">I designed and scaled AWS infrastructure to handle thousands of job applications and event content reliably.</p>
        </div>

        <div class="case__panel">
          <p class="case__text">Helping <span class="grad-number">18,000+</span> students and <span class="grad-number">150+</span> companies every year.</p>
        </div>
      </div>

      <!-- Right: sticky image -->
      <div class="case__right">
        <figure class="case__shot">
          <img src="assets/hakyo.png" alt="THS Business website design by Ossian" loading="lazy" />
          <figcaption class="visually-hidden">Pinned website mockup while copy scrolls.</figcaption>
        </figure>
      </div>
    </div>
  </section>

  <!-- STICKY CASE STUDY: GRADR -->
  <section id="case-gradr" class="case case--flip">
    <div class="case__inner">
      <!-- Left: sticky image -->
      <div class="case__right">
        <figure class="case__shot">
          <!-- Replace with your real Gradr image if different -->
          <img src="assets/calcrn2.png" alt="Gradr platform UI" loading="lazy" />
          <figcaption class="visually-hidden">Pinned Gradr mockup while copy scrolls.</figcaption>
        </figure>
      </div>

      <!-- Right: scrolling copy -->
      <div class="case__left">
        <div class="case__panel">
          <p class="case__text">As a software engineer at Gradr...</p>
        </div>

        <div class="case__panel">
          <p class="case__text">
            We create AI solutions for schools—automating grading tasks and letting students practice custom, teacher-tuned questions at scale.
          </p>
        </div>

        <div class="case__panel">
          <p class="case__text">
            Saving teachers <span class="grad-number">7+</span> hours every week*...
          </p>
          <small class="case__note">* Based on Gradr’s internal stats.</small>
        </div>

        <div class="case__panel">
          <p class="case__text">and helping <span class="grad-number">thousands</span> of students reach their full potential.</p>
        </div>
      </div>
    </div>
  </section>


  <!-- Vanta on HERO -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r121/three.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.waves.min.js"></script>
  <script>
    // Ensure the element exists before initializing Vanta
    let vantaEffect;
    window.addEventListener('DOMContentLoaded', () => {
      vantaEffect = VANTA.WAVES({
        el: "#vanta-bg",
        mouseControls: true,
        touchControls: true,
        gyroControls: false,
        minHeight: 200.00,
        minWidth: 200.00,
        scale: 1.00,
        scaleMobile: 1.00,
        color: 0x0f6fff,
        shininess: 35.00,
        waveHeight: 15.00,
        waveSpeed: 0.75,
        zoom: 1.00
      });

      // Smooth scroll to the next section
      const cue = document.getElementById('scrollCue');
      cue?.addEventListener('click', () => {
        document.querySelector('#content')?.scrollIntoView({ behavior: 'smooth' });
      });
    });

    // Clean up (optional good practice if you later navigate SPA-style)
    window.addEventListener('beforeunload', () => {
      if (vantaEffect && vantaEffect.destroy) vantaEffect.destroy();
    });
  </script>

  <!-- GSAP + ScrollTrigger (for scroll-driven role transitions) -->
<script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/ScrollTrigger.min.js"></script>

<script>
  // Scroll-driven role cycling
  window.addEventListener('DOMContentLoaded', () => {
    gsap.registerPlugin(ScrollTrigger);

    const phrases = gsap.utils.toArray('#roles .role');
    // Make sure only one is visible initially
    gsap.set(phrases.map(el => el.querySelector('.role__text')), { opacity: 0, y: 30 });

    const tl = gsap.timeline({
      scrollTrigger: {
        trigger: '#roles',
        start: 'top top',
        end: () => '+=' + (phrases.length * window.innerHeight * 0.85), // total scroll length
        scrub: 0.6,
        pin: true,
        anticipatePin: 1
      }
    });

    phrases.forEach((el, i) => {
      const t = el.querySelector('.role__text');

      // fade/slide in
      tl.to(t, { opacity: 1, y: 0, duration: 0.8, ease: 'power2.out' });

      // hold (pause) while user scrolls a bit
      tl.to({}, { duration: 0.6 });

      // fade/slide out (except the last—we add a small out so it exits cleanly)
      tl.to(t, { opacity: 0, y: -30, duration: 0.8, ease: 'power2.in' });
    });

    // Accessibility: avoid tabbing to hidden items
    ScrollTrigger.addEventListener('refresh', () => {
      phrases.forEach(el => {
        const visible = parseFloat(gsap.getProperty(el.querySelector('.role__text'), 'opacity')) > 0.5;
        el.setAttribute('aria-hidden', visible ? 'false' : 'true');
      });
    });
  });
</script>

<script>
  window.addEventListener('DOMContentLoaded', () => {
    // === Sticky case study ===
    const panels = gsap.utils.toArray('#case-ths .case__panel');
    const texts  = panels.map(p => p.querySelector('.case__text'));

    // start hidden and slightly below
    gsap.set(texts, { opacity: 0, y: 30 });

    const tlCase = gsap.timeline({
      scrollTrigger: {
        trigger: '#case-ths',
        start: 'top top',
        end: () => '+=' + (panels.length * window.innerHeight * 0.9),
        scrub: 0.6,
        pin: true,
        anticipatePin: 1
      }
    });

    panels.forEach((panel, i) => {
      const t = panel.querySelector('.case__text');

      // fade/slide in
      tlCase.to(t, { opacity: 1, y: 0, duration: 0.9, ease: 'power2.out' });

      // hold
      tlCase.to({}, { duration: 0.8 });

      // fade/slide out (except last gets a gentle exit too so the pin releases nicely)
      tlCase.to(t, { opacity: 0, y: -28, duration: 0.8, ease: 'power2.in' });
    });

    // (optional) tiny parallax on the mock
    gsap.to('#case-ths .case__shot', {
      yPercent: -6,
      ease: 'none',
      scrollTrigger: {
        trigger: '#case-ths',
        start: 'top top',
        end: 'bottom top',
        scrub: true
      }
    });
  });
</script>

<script>
  window.addEventListener('DOMContentLoaded', () => {
    // === Sticky case: GRADR (image left, text right) ===
    const gradrPanels = gsap.utils.toArray('#case-gradr .case__panel');
    const gradrTexts  = gradrPanels.map(p => p.querySelector('.case__text'));
    const gradrNotes  = gradrPanels.map(p => p.querySelector('.case__note')).filter(Boolean);

    gsap.set(gradrTexts, { opacity: 0, y: 30 });
    gsap.set(gradrNotes, { opacity: 0, y: 20 });

    const tlGradr = gsap.timeline({
      scrollTrigger: {
        trigger: '#case-gradr',
        start: 'top top',
        end: () => '+=' + (gradrPanels.length * window.innerHeight * 0.9),
        scrub: 0.6,
        pin: true,
        anticipatePin: 1
      }
    });

    gradrPanels.forEach((panel) => {
      const t = panel.querySelector('.case__text');
      const n = panel.querySelector('.case__note');

      tlGradr
        .to(t, { opacity: 1, y: 0, duration: 0.9, ease: 'power2.out' })
        .to(n || {}, { opacity: 1, y: 0, duration: n ? 0.6 : 0, ease: 'power2.out' }, '<+=0.2')
        .to({}, { duration: 0.8 }) // hold
        .to([t, n].filter(Boolean), { opacity: 0, y: -28, duration: 0.8, ease: 'power2.in' });
    });

    // subtle parallax for the mock
    gsap.to('#case-gradr .case__shot', {
      yPercent: -6,
      ease: 'none',
      scrollTrigger: {
        trigger: '#case-gradr',
        start: 'top top',
        end: 'bottom top',
        scrub: true
      }
    });
  });
</script>



</body>
</html>
